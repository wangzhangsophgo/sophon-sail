

<!DOCTYPE html>
<html class="writer-html5" lang="en-EN" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6.2. Get weight files of images &mdash; SOPHON-SAIL 3.10.2
 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=01d1187f"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="6.1. Get Python3 for cross-compilation on an X86 host" href="get_pythons.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SOPHON-SAIL
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Catalog</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../1_disclaimer.html">1. Disclaimer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2_sail.html">2. SAIL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3_build.html">3. Compilation and Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../4_module_cpp.html">4. SAIL C++ API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../5_module_python.html">5. SAIL Python API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../6_appendix.html">6. Appendix</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="get_pythons.html">6.1. Get Python3 for cross-compilation on an X86 host</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.2. Get weight files of images</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SOPHON-SAIL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../6_appendix.html"><span class="section-number">6. </span>Appendix</a></li>
      <li class="breadcrumb-item active"><span class="section-number">6.2. </span>Get weight files of images</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/appendix/get_image_wgt.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="get-weight-files-of-images">
<span id="id1"></span><h1><span class="section-number">6.2. </span>Get weight files of images<a class="headerlink" href="#get-weight-files-of-images" title="Link to this heading"></a></h1>
<p><strong>1. Open the splicing parameter tuning tool in the Windows system, and the download link is as follows:</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">dfss</span> <span class="o">--</span><span class="n">url</span><span class="o">=</span><span class="nb">open</span><span class="nd">@sophgo</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="o">/</span><span class="n">sophon</span><span class="o">-</span><span class="n">stream</span><span class="o">/</span><span class="n">dwa_blend_encode</span><span class="o">/</span><span class="n">stitchtool_circular_fisheye_v240103</span><span class="mf">.7</span><span class="o">.</span><span class="n">zip</span>
</pre></div>
</div>
</div></blockquote>
<dl>
<dt><strong>2. Stitch two pictures together to get a stitched picture</strong></dt><dd><p>The command description is as follows：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gen_gridinfo</span><span class="o">.</span><span class="n">exe</span> <span class="n">mode</span> <span class="n">result_path</span> <span class="n">left_image_path</span> <span class="n">right_image_path</span> <span class="n">fusion_start_position</span> <span class="n">fusion_width</span>
</pre></div>
</div>
<p>Take a picture with a width of 2240 as an example：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gen_gridinfo</span><span class="o">.</span><span class="n">exe</span> <span class="mi">1</span> <span class="o">./</span><span class="n">result_path</span> <span class="o">./</span><span class="n">L</span><span class="o">/</span><span class="n">left</span><span class="o">.</span><span class="n">png</span> <span class="o">./</span><span class="n">R</span><span class="o">/</span><span class="n">right</span><span class="o">.</span><span class="n">png</span> <span class="mi">2144</span> <span class="mi">32</span>
</pre></div>
</div>
<p><em>Note: The last two values ​​need to be divisible by 32, and their sum does not need to be equal to 2240. When merging, the right edge of the left image will directly take the right image. For example, in the example, 2240 – 2144 – 32 = 64, that is, the right edge of the left image with 64 pixels will directly take the right image.</em></p>
</dd>
</dl>
<p><strong>3. Adjust stitching parameters according to the stitching diagram</strong></p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gen_gridinfo</span><span class="o">.</span><span class="n">exe</span> <span class="mi">0</span> <span class="o">./</span><span class="n">L</span> <span class="o">./</span><span class="n">L</span><span class="o">/</span><span class="n">left</span><span class="o">.</span><span class="n">bmp</span> <span class="n">x_shift</span> <span class="n">y_shift</span> <span class="n">theta_x</span> <span class="n">theta_y</span> <span class="n">theta_z</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>x_shift: Positive numbers move the image to the right, and negative numbers move the image to the left.</p></li>
<li><p>y_shift: Positive numbers move the image downward, and negative numbers move the image upward.</p></li>
<li><p>theta_x: rotation around the horizontal axis</p></li>
<li><p>theta_y: rotation around the vertical axis</p></li>
<li><p>theta_z: rotation perpendicular to the paper</p></li>
</ul>
<p><em>Note: These three parameters are generally not used and are set to 0 by default.</em></p>
<p>Generally, the right image is fixed and the left image is adjusted to align. The size of the X direction during stitching is adjusted with 32 as the minimum adjustment unit, and the best stitching image is selected as the final result.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gen_gridinfo</span><span class="o">.</span><span class="n">exe</span> <span class="mi">1</span> <span class="o">./</span><span class="n">result_path</span> <span class="o">./</span><span class="n">L</span><span class="o">/</span><span class="n">left</span><span class="o">.</span><span class="n">png</span> <span class="o">./</span><span class="n">R</span><span class="o">/</span><span class="n">right</span><span class="o">.</span><span class="n">png</span> <span class="mi">2144</span> <span class="mi">32</span>
</pre></div>
</div>
</div></blockquote>
<p><strong>4. After the splicing is completed, the weight file is saved in result_path</strong></p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="get_pythons.html" class="btn btn-neutral float-left" title="6.1. Get Python3 for cross-compilation on an X86 host" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, SOPHGO.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>